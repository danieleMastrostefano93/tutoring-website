<div class="card">
  <div class="icon">{{ content.icona }}</div>
  <h3>{{ content.titolo }}</h3>
  <p>{{ content.descrizione }}</p>
  <div class="tags">
    {{ content.categoria }} - {{ content.materia }} - {{ content.livello }}
  </div>
  <div class="date">🗓️ Caricato il: {{ content.data }}</div>

  <div class="actions">
    <button
      *ngIf="content.categoria === 'Video' && videoInRiproduzione !== content.url"
      (click)="playVideo(content.url, content.id)"
    >
      Guarda
    </button>

    <a
      *ngIf="content.categoria === 'Appunti'"
      [href]="content.download"
      download
    >
      Scarica
    </a>

    <button
      *ngIf="content.categoria === 'Blog Post'"
      (click)="leggiPost(content)"
    >
      Leggi
    </button>
  </div>

  <!-- Player video -->
  <div *ngIf="videoInRiproduzione === content.url" class="video-player">
    <video width="100%" controls autoplay>
      <source [src]="content.url" type="video/mp4" />
      Il tuo browser non supporta il tag video.
    </video>
    <button class="close-button" (click)="chiudiVideo()">Chiudi</button>
  </div>

  <div class="feedback">
    👁️ {{ views }}
    <button (click)="vote('up')" [class.active]="upvotes > 0">
      ⬆️ {{ upvotes }}
    </button>
    <button (click)="vote('down')" [class.active]="downvotes > 0">
      ⬇️ {{ downvotes }}
    </button>
  </div>
</div>
